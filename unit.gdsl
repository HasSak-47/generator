type Foo = {
    foo: uint,
    bar: string?,
    baz: string as datetime[]
}

type Bar = {
    foo: uint,
    bar: string?,
    baz: int[]
}

type Baz = {
    foo: {Foo | Bar},
    bar: string as datetime,
}

request_foo(str: string, date: string as datetime, foo: Foo) @put "/request_foo/" -> Foo[]
request_bar(str: string, date: string as datetime, bar: Bar) @post "/request_bar/" -> Bar[]
request_baz(str: string, date: string as datetime, baz: Baz) @get "/request_baz/" -> Baz[]
